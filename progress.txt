## 2025-01-19 - US-001: Database schema and models

- What was implemented:
  - SQLite database configuration with SQLAlchemy 2.0 ORM
  - Categories table with id, name, slug, parent_id (self-referential for hierarchy), created_at, updated_at
  - Tags table with id, name (unique), created_at
  - Items table with id, title, description, content (markdown), type, category_id, view_count, created_at, updated_at
  - item_tags join table with item_id, tag_id (many-to-many relationship)
  - search_logs table with id, query, result_count, source, created_at
  - Alembic migration setup with initial schema migration
  - FastAPI app structure with main.py and health endpoint

- Files changed:
  - backend/app/models/base.py - SQLAlchemy declarative base
  - backend/app/models/category.py - Category model
  - backend/app/models/tag.py - Tag model
  - backend/app/models/item.py - Item model and item_tags join table
  - backend/app/models/search_log.py - SearchLog model
  - backend/app/models/__init__.py - Model exports
  - backend/app/core/config.py - Pydantic settings
  - backend/app/core/database.py - Database session management
  - backend/app/main.py - FastAPI application
  - backend/alembic/* - Alembic migration configuration
  - backend/alembic/versions/001_initial_schema.py - Initial migration
  - backend/pyproject.toml - Project configuration with mypy settings
  - backend/requirements.txt - Python dependencies

- Learnings for future iterations:
  - Use SQLAlchemy 2.0 Mapped[] type annotations for full type safety
  - Use TYPE_CHECKING imports to avoid circular dependencies between models
  - Pydantic v2 uses model_config = SettingsConfigDict() instead of class Config
  - SQLite requires check_same_thread=False for multi-threaded FastAPI access

---

## 2026-01-19 - US-002: Core API endpoints

- What was implemented:
  - Pydantic schemas for API responses (TagResponse, CategoryResponse, ItemResponse, ItemListResponse)
  - Base response schemas (APIResponse, PaginatedResponse) with generic type support
  - Items router with GET /api/items (paginated list) and GET /api/items/{id} (single item)
  - Categories router with GET /api/categories (list all categories)
  - Tags router with GET /api/tags (list all tags)
  - All endpoints return consistent JSON format with success/data structure
  - Router registration in main.py
  - API documentation available at /docs

- Files changed:
  - backend/app/schemas/base.py - APIResponse and PaginatedResponse schemas
  - backend/app/schemas/tag.py - TagResponse schema
  - backend/app/schemas/category.py - CategoryResponse schema
  - backend/app/schemas/item.py - ItemResponse and ItemListResponse schemas
  - backend/app/schemas/__init__.py - Schema exports
  - backend/app/routers/items.py - Items API router
  - backend/app/routers/categories.py - Categories API router
  - backend/app/routers/tags.py - Tags API router
  - backend/app/routers/__init__.py - Router exports
  - backend/app/main.py - Router registration
  - backend/pyproject.toml - Updated mypy settings for third-party library compatibility

- Learnings for future iterations:
  - Pydantic v2 uses model_config = {"from_attributes": True} instead of orm_mode
  - Use joinedload() from sqlalchemy.orm for eager loading relationships
  - mypy strict mode with ignore_missing_imports still complains about subclassing third-party classes - need disallow_subclassing_any = false
  - FastAPI decorators trigger untyped-decorator errors in strict mode - need disallow_untyped_decorators = false
