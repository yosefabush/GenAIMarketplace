# GenAI Marketplace

An internal AI capabilities platform for developers to discover and share agents, prompts, MCPs, and workflows. Built with FastAPI (backend) and React (frontend).

## Features

- **Content Discovery**: Browse and search AI capabilities including agents, prompts, MCPs, workflows, and documentation
- **Full-Text Search**: SQLite FTS5-powered search with relevance ranking (BM25)
- **Markdown Rendering**: Rich content display with syntax-highlighted code blocks
- **Admin Content Management**: Create, edit, and delete content with a markdown editor
- **Analytics Dashboard**: Track search queries and content popularity
- **Dark Mode**: Light and dark theme support with system preference detection
- **Keyboard Shortcuts**: Power-user navigation with keyboard shortcuts
- **Responsive Design**: Mobile, tablet, and desktop layouts

## Tech Stack

### Backend
- **Framework**: FastAPI with Python 3.11+
- **Database**: SQLite with SQLAlchemy 2.0 ORM
- **Search**: FTS5 full-text search with BM25 ranking
- **Migrations**: Alembic
- **Validation**: Pydantic v2

### Frontend
- **Framework**: React 18 with TypeScript
- **Build Tool**: Vite
- **Styling**: Tailwind CSS v4
- **UI Components**: Radix UI primitives with shadcn/ui patterns
- **Routing**: React Router v6
- **HTTP Client**: Axios
- **Markdown**: react-markdown with react-syntax-highlighter

## Quick Start

### Prerequisites

- Python 3.11+
- Node.js 18+
- npm or yarn

### Backend Setup

```bash
cd backend

# Create virtual environment
python -m venv venv

# Activate virtual environment
# On Windows:
venv\Scripts\activate
# On macOS/Linux:
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Run database migrations
alembic upgrade head

# Start the development server
uvicorn app.main:app --reload

# (Optional) Seed the database with sample content
python scripts/seed_data.py
```

The API will be available at http://localhost:8000.

### Seeding Sample Data

The marketplace comes with a seed script that populates the database with 55 real-world useful examples:

```bash
cd backend

# Seed the database (idempotent - safe to run multiple times)
python scripts/seed_data.py

# Reset and reseed (clears existing data first)
python scripts/seed_data.py --reset
```

The seed script creates:
- **7 Categories**: Development Tools, Code Generation, Documentation, Testing & QA, DevOps & Infrastructure, Data & Analytics, Security
- **25 Tags**: Programming languages, frameworks, and concepts
- **55 Items**:
  - 15 AI Agents (code review, testing, debugging, etc.)
  - 20 Prompts (code review, bug fix, documentation, etc.)
  - 10 MCP Servers (GitHub, database, Docker, AWS, etc.)
  - 5 Workflows (PR review, deployment, incident response, etc.)
  - 5 Documentation articles (getting started, best practices, etc.)

### Frontend Setup

```bash
cd frontend

# Install dependencies
npm install

# Create environment file
cp .env.example .env

# Start the development server
npm run dev
```

The frontend will be available at http://localhost:5173.

### Environment Variables

#### Backend (.env)
```bash
DATABASE_URL=sqlite:///./data/marketplace.db
ADMIN_TOKEN=your-secure-admin-token
PORT=8000
```

#### Frontend (.env)
```bash
VITE_API_BASE_URL=http://localhost:8000
```

## Project Structure

```
genai-marketplace/
├── backend/
│   ├── app/
│   │   ├── core/           # Configuration, database, auth
│   │   ├── models/         # SQLAlchemy ORM models
│   │   ├── routers/        # API route handlers
│   │   ├── schemas/        # Pydantic request/response schemas
│   │   ├── services/       # Business logic services
│   │   └── main.py         # FastAPI application entry
│   ├── alembic/            # Database migrations
│   ├── tests/              # Pytest test suite
│   ├── scripts/            # Utility scripts (load testing, etc.)
│   ├── Dockerfile          # Container configuration
│   └── docker-compose.yml  # Docker Compose configuration
├── frontend/
│   ├── src/
│   │   ├── components/     # React components
│   │   ├── contexts/       # React contexts (auth, theme, etc.)
│   │   ├── hooks/          # Custom React hooks
│   │   ├── lib/            # Utilities and API client
│   │   ├── pages/          # Page components
│   │   └── test/           # Vitest test suite
│   └── ...
└── docs/                   # Documentation and diagrams
```

## API Documentation

Interactive API documentation is auto-generated by FastAPI:

- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

### Key Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/items` | List items with pagination |
| GET | `/api/items/{id}` | Get item by ID |
| GET | `/api/search` | Search items with filters |
| GET | `/api/categories` | List all categories |
| GET | `/api/tags` | List all tags |
| POST | `/api/items` | Create item (admin) |
| PUT | `/api/items/{id}` | Update item (admin) |
| DELETE | `/api/items/{id}` | Delete item (admin) |
| GET | `/api/analytics/*` | Analytics endpoints (admin) |

## Running Tests

### Backend Tests

```bash
cd backend

# Run all tests
pytest

# Run with coverage report
pytest --cov=app --cov-report=term-missing

# Run specific test file
pytest tests/test_items.py -v
```

### Frontend Tests

```bash
cd frontend

# Run all tests
npm test

# Run tests in watch mode
npm run test:watch

# Run with coverage
npm run test:coverage
```

## Docker Deployment

See [DEPLOYMENT.md](./DEPLOYMENT.md) for full deployment instructions.

Quick start with Docker Compose:

```bash
cd backend
docker compose up -d
```

## Documentation

- [DEPLOYMENT.md](./DEPLOYMENT.md) - Docker deployment guide
- [ADMIN_GUIDE.md](./ADMIN_GUIDE.md) - Content management guide
- [docs/architecture.md](./docs/architecture.md) - System architecture diagram
- [docs/database-schema.md](./docs/database-schema.md) - Database schema diagram

## Keyboard Shortcuts

| Shortcut | Action |
|----------|--------|
| `/` or `Ctrl+K` | Focus search bar |
| `Esc` | Clear search / close modal |
| `↑` / `↓` | Navigate search results |
| `Enter` | Open highlighted result |
| `?` | Show keyboard shortcuts help |

## License

Internal use only.
